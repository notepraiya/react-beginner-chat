(this["webpackJsonpreact-beginner-chat"]=this["webpackJsonpreact-beginner-chat"]||[]).push([[0],{72:function(e,t,c){},73:function(e,t,c){},74:function(e,t,c){},82:function(e,t,c){},84:function(e,t,c){},85:function(e,t,c){},87:function(e,t,c){},88:function(e,t,c){},89:function(e,t,c){},90:function(e,t,c){"use strict";c.r(t);var n=c(3),a=c(2),s=c.n(a),i=c(26),r=c.n(i),o=(c(72),c(15)),j=(c(73),c(103)),l=(c(74),c(31)),d=l.a.initializeApp({apiKey:"AIzaSyCpLuNDlfLmj7MXLzdhquCnmqM9yUTbTU8",authDomain:"react-beginner-chat.firebaseapp.com",databaseURL:"https://react-beginner-chat.firebaseio.com",projectId:"react-beginner-chat",storageBucket:"react-beginner-chat.appspot.com",messagingSenderId:"324749925709",appId:"1:324749925709:web:7a65ce74dcc4af60bb2b04",measurementId:"G-Y2M0MMPCB2"}),b=d.firestore(),h=d.auth(),u=new l.a.auth.GoogleAuthProvider,O=b,m=Object(a.createContext)(),x=function(e){var t=e.reducer,c=e.initialState,s=e.children;return Object(n.jsx)(m.Provider,{value:Object(a.useReducer)(t,c),children:s})},p=function(){return Object(a.useContext)(m)},v=c(39),f="SET_USER",g=function(e,t){switch(console.log(t),t.type){case f:return Object(v.a)(Object(v.a)({},e),{},{user:t.user});default:return e}};var N=function(){var e=p(),t=Object(o.a)(e,2),c=(t[0],t[1]);return Object(n.jsx)("div",{className:"login",children:Object(n.jsxs)("div",{className:"login_container",children:[Object(n.jsx)("img",{src:"android-chrome-512x512.png",alt:"logo"}),Object(n.jsx)("h1",{children:"Sign in to react-beginner-chat app"}),Object(n.jsx)("p",{children:"notepraiya"}),Object(n.jsx)(j.a,{onClick:function(e){h.signInWithPopup(u).then((function(e){console.log(e),c({type:f,user:e.user})})).catch((function(e){return alert(e.message)}))},children:"Sign in with Google"})]})})},I=(c(82),c(104)),S=c(48),_=c.n(S),C=c(49),y=c.n(C),w=c(50),L=c.n(w);var M=function(){var e=p(),t=Object(o.a)(e,1)[0].user;return Object(n.jsxs)("div",{className:"header",children:[Object(n.jsxs)("div",{className:"header_left",children:[Object(n.jsx)(I.a,{className:"header_avatar",alt:null===t||void 0===t?void 0:t.displayName,src:null===t||void 0===t?void 0:t.photoURL}),Object(n.jsx)(_.a,{})]}),Object(n.jsxs)("div",{className:"header_search",children:[Object(n.jsx)(y.a,{}),Object(n.jsx)("input",{placeholder:"Search"})]}),Object(n.jsx)("div",{className:"header_right",children:Object(n.jsx)(L.a,{})})]})},T=(c(84),c(51)),D=c.n(T),P=c(52),U=c.n(P),k=c(9);c(85);var F=function(e){var t=e.Icon,c=e.title,a=e.id,s=e.addChannelOption,i=Object(k.f)();return Object(n.jsxs)("div",{className:"sidebarOption",onClick:s?function(){var e=prompt("please enter the channel name");e&&O.collection("rooms").add({name:e})}:function(){a?i.push("/room/".concat(a)):i.push(c)},children:[t&&Object(n.jsx)(t,{className:"sidebarOption_icon"}),t?Object(n.jsx)("h3",{children:c}):Object(n.jsxs)("h3",{className:"sidebarOption_channel",children:[Object(n.jsx)("span",{className:"sidebarOption_hash",children:"#"}),c]})]})},R=c(53),A=c.n(R),B=c(54),E=c.n(B),z=c(55),G=c.n(z),q=c(56),J=c.n(q),W=c(57),K=c.n(W),V=c(58),X=c.n(V),Y=c(59),H=c.n(Y),Q=c(60),Z=c.n(Q),$=c(61),ee=c.n($),te=c(62),ce=c.n(te);var ne=function(){var e=p(),t=Object(o.a)(e,1)[0].user,c=Object(a.useState)([]),s=Object(o.a)(c,2),i=s[0],r=s[1];return Object(a.useEffect)((function(){O.collection("rooms").onSnapshot((function(e){r(e.docs.map((function(e){return{id:e.id,name:e.data().name}})))}))}),[]),Object(n.jsxs)("div",{className:"sidebar",children:[Object(n.jsxs)("div",{className:"sidebar_header",children:[Object(n.jsxs)("div",{className:"sidebar_info",children:[Object(n.jsx)("h2",{children:"Club Note"}),Object(n.jsxs)("h3",{children:[Object(n.jsx)(D.a,{}),null===t||void 0===t?void 0:t.displayName]})]}),Object(n.jsx)(U.a,{})]}),Object(n.jsx)(F,{Icon:A.a,title:"Threads"}),Object(n.jsx)(F,{Icon:E.a,title:"Mentions & reactions"}),Object(n.jsx)(F,{Icon:G.a,title:"Saved Items"}),Object(n.jsx)(F,{Icon:J.a,title:"Channel browser"}),Object(n.jsx)(F,{Icon:K.a,title:"People & user groups"}),Object(n.jsx)(F,{Icon:X.a,title:"Apps"}),Object(n.jsx)(F,{Icon:H.a,title:"File browser"}),Object(n.jsx)(F,{Icon:Z.a,title:"Show less"}),Object(n.jsx)("hr",{}),Object(n.jsx)(F,{Icon:ee.a,title:"Channels"}),Object(n.jsx)("hr",{}),Object(n.jsx)(F,{Icon:ce.a,title:"Add channel",addChannelOption:!0}),i.map((function(e){var t=e.id,c=e.name;return Object(n.jsx)(F,{title:c,id:t},t)}))]})},ae=(c(87),c(63)),se=c.n(ae),ie=c(64),re=c.n(ie);c(88);var oe=function(e){var t=e.message,c=e.timestamp,a=e.user,s=e.userImage;return Object(n.jsxs)("div",{className:"message",children:[Object(n.jsx)("img",{src:s,alt:""}),Object(n.jsxs)("div",{className:"message_info",children:[Object(n.jsxs)("h4",{children:[a," ",Object(n.jsx)("span",{className:"message_timestamp",children:new Date(null===c||void 0===c?void 0:c.toDate()).toUTCString()})]}),Object(n.jsx)("p",{children:t})]})]})};c(89);var je=function(e){var t=e.channelName,c=e.channelId,s=p(),i=Object(o.a)(s,1)[0].user,r=Object(a.useState)(""),d=Object(o.a)(r,2),b=d[0],h=d[1];return Object(n.jsx)("div",{className:"chatinput",children:Object(n.jsxs)("form",{children:[Object(n.jsx)("input",{placeholder:"Message #".concat(t),value:b,onChange:function(e){return h(e.target.value)}}),Object(n.jsx)(j.a,{type:"submit",onClick:function(e){e.preventDefault(),c&&(O.collection("rooms").doc(c).collection("messages").add({message:b,timestamp:l.a.firestore.FieldValue.serverTimestamp(),user:i.displayName,userImage:i.photoURL}),h(""))},children:"Send"})]})})};var le=function(){var e=Object(k.g)().roomId,t=Object(a.useState)(null),c=Object(o.a)(t,2),s=c[0],i=c[1],r=Object(a.useState)([]),j=Object(o.a)(r,2),l=j[0],d=j[1];return Object(a.useEffect)((function(){e&&O.collection("rooms").doc(e).onSnapshot((function(e){i(e.data())})),O.collection("rooms").doc(e).collection("messages").orderBy("timestamp","asc").onSnapshot((function(e){d(e.docs.map((function(e){return e.data()})))}))}),[e]),Object(n.jsxs)("div",{className:"chat",children:[Object(n.jsxs)("div",{className:"chat_header",children:[Object(n.jsx)("div",{className:"chat_headerLeft",children:Object(n.jsxs)("h4",{className:"chat_channelName",children:[Object(n.jsxs)("strong",{children:["# ",null===s||void 0===s?void 0:s.name]}),Object(n.jsx)(se.a,{})]})}),Object(n.jsx)("div",{className:"chat_headerRight",children:Object(n.jsxs)("p",{children:[Object(n.jsx)(re.a,{})," Details"]})})]}),Object(n.jsx)("div",{className:"chat_messages",children:l.map((function(e,t){var c=e.message,a=e.timestamp,s=e.user,i=e.userImage;return Object(n.jsx)(oe,{message:c,timestamp:a,user:s,userImage:i},t)}))}),Object(n.jsx)(je,{channelName:null===s||void 0===s?void 0:s.name,channelId:e})]})},de=c(33);var be=function(){var e=p(),t=Object(o.a)(e,2),c=t[0].user;return t[1],Object(n.jsx)("div",{className:"app",children:c?Object(n.jsxs)(de.a,{basename:"/react-beginner-chat",children:[Object(n.jsx)(M,{}),Object(n.jsxs)("div",{className:"app_body",children:[Object(n.jsx)(ne,{}),Object(n.jsxs)(k.c,{children:[Object(n.jsx)(k.a,{path:"/room/:roomId",children:Object(n.jsx)(le,{})}),Object(n.jsx)(k.a,{path:"/",children:Object(n.jsx)("h1",{children:"Welcome"})})]})]})]}):Object(n.jsx)(N,{})})},he=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,105)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,s=t.getLCP,i=t.getTTFB;c(e),n(e),a(e),s(e),i(e)}))};r.a.render(Object(n.jsx)(s.a.StrictMode,{children:Object(n.jsx)(x,{initialState:{user:null},reducer:g,children:Object(n.jsx)(be,{})})}),document.getElementById("root")),he()}},[[90,1,2]]]);
//# sourceMappingURL=main.8a86b514.chunk.js.map